# STOCK PLAYGROUND 学习计划与标准作业流程 (SOP)

本文档旨在固化量化策略的学习与探索流程。我们的目标不是寻找一个“黑盒圣杯”，而是通过系统化的实验，**以点带面**地理解量化指标背后的市场逻辑、优缺点及适用场景。

---

## 🔁 标准作业流程 (SOP)

每次开始一个新的策略学习（如 RSI, MACD, Bollinger Bands, etc.）时，请严格遵循以下五个步骤：

### 1. 选题与立项 (Concept & Setup)
*   **目标**：选择一个经典的量化概念或指标。不要贪多，一次只攻克一个。
*   **动作**：
    *   在 `stock_playground/learning/` 下创建一个新目录，例如 `MACD_Mean_Reversion`。
    *   确定测试的数据集（例如：AI 板块、新能源板块、或指数成分股）。

### 2. 深度档案建立 (Documentation)
*   **目标**：在写代码前，先彻底理解指标的历史、原理和数学逻辑。
*   **动作**：
    *   创建 `README.md`。
    *   **内容要求**：
        *   **历史溯源**：谁发明的？在什么背景下？（如 OBV 是 1963 年 Granville 提出的）。
        *   **核心哲学**：它试图捕捉市场的什么特征？（如“量在价先”、“均值回归”）。
        *   **数学定义**：公式是什么？（物理意义：如 OBV 是“资金蓄水池”）。
        *   **策略假设**：基于什么逻辑进行买卖？（如金叉买入）。

### 3. 策略开发与压力测试 (Implementation & Stress Test)
*   **目标**：编写代码，并使用“极端参数”测试策略的纯度。
*   **动作**：
    *   编写 `strategy.py`。
    *   **关键配置**：在 Portfolio 层面，务必使用 **90%-95% 的满仓模式**（或大比例动态仓位）。
        *   *理由*：在单标的研究阶段，必须放大资金利用率，才能看清策略真实的收益爆发力和回撤破坏力。微仓位测试没有意义。
    *   使用 `visualize_strategy.py` 或批处理脚本进行回测。

### 4. 全景可视化与数据挖掘 (Visualization & Mining)
*   **目标**：不仅仅看一个总收益数字，而是要看到“过程”。
*   **动作**：
    *   **Sector Overview**：生成板块全景图，看策略是否具有普适性。
    *   **Individual Plots**：为板块内所有股票生成单独的买卖点图。
    *   **Log Mining**：保存详细日志，提取所有 `LONG`/`EXIT` 信号的时间点。

### 5. 深度复盘与分析 (Analysis & Review)
*   **目标**：形成对策略“性格”的认知，通过 Case Study 验证理论。
*   **动作**：
    *   撰写 `ANALYSIS.md`。
    *   **必做分析**：
        *   **成功案例 (Success Case)**：策略在哪里赚了大钱？结合当时的历史背景（如 2023 AI 爆发）解释为什么。
        *   **失败案例 (Failure Case)**：策略在哪里亏了大钱？是震荡市止损（Whipsaw）？还是指标钝化？
        *   **干扰案例 (Noise Case)**：有没有因为除权、停牌、或者非市场因素导致的信号失真？
    *   **改进方向**：基于上述弱点，提出 1-2 个具体的优化思路（如加均线过滤、加止损等）。

---

## 📂 目录结构示例

```text
stock_playground/
├── learning/
│   ├── OBV_Trend_Following/          <-- 本次学习项目
│   │   ├── README.md                 <-- 深度档案 (原理)
│   │   ├── strategy.py               <-- 策略代码
│   │   ├── run_batch.py              <-- 批量执行脚本
│   │   ├── ANALYSIS.md               <-- 深度复盘报告
│   │   ├── sector_overview.png       <-- 板块全景图
│   │   └── images/                   <-- 个股详图 & 日志
│   │       ├── 002230.SZ_obv.png
│   │       ├── 002230.SZ.log
│   │       └── ...
│   ├── MACD_Mean_Reversion/          <-- 下一个学习项目
│   └── ...
```

---

## 🎯 核心原则

1.  **量在价先**：理解成交量是理解价格变动的源动力（通过 OBV 学习已验证）。
2.  **盈亏同源**：能捕捉大趋势的策略，必然在震荡市中面临回撤。不要追求完美曲线，要追求“收益风险比”的合理性。
3.  **以点带面**：通过深挖一只股票、一个指标，建立对整个市场运行规律的认知。

---
*Maintained by Antigravity Agent*
